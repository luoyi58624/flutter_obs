import 'package:flutter/material.dart';
import 'package:flutter_obs/flutter_obs.dart';
import 'package:flutter_test/flutter_test.dart';

import 'common.dart';

void test2() {
  // testWidgets('检测监听函数是否被清除', (tester) async {
  //   final count = Obs(0);
  //
  //   await tester.pumpWidget(MaterialApp(
  //     home: Builder(builder: (context) {
  //       return GestureDetector(
  //         onTap: () {
  //           push(
  //             context,
  //             ChildPage(child: _State(count: count)),
  //           );
  //         },
  //         child: const Text('child page'),
  //       );
  //     }),
  //   ));
  //
  //   await tester.tap(find.text('child page'));
  //   await tester.pumpAndSettle();
  //   expect(count.notifyInstance.obsUpdateList.length, 1);
  //   await tester.tap(find.text('back'));
  //   await tester.pumpAndSettle();
  //   expect(count.notifyInstance.obsUpdateList.length, 0);
  // });
}


